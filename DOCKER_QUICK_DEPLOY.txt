â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘      EASTERN ESTATE ERP - DOCKER DEPLOYMENT QUICK GUIDE          â•‘
â•‘                    DigitalOcean Server                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸš€ YOUR EXISTING WORKFLOW:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1. SSH to server:
   ssh -i ~/Downloads/ERP.pem ubuntu@3.238.49.77
   cd ~/eastern-estate-erp

2. Pull changes:
   git pull origin main

3. Deploy:
   docker compose -f docker-compose.prod.yml build backend frontend
   docker compose -f docker-compose.prod.yml up -d --force-recreate backend frontend

4. Check logs:
   docker compose -f docker-compose.prod.yml logs backend --tail 200 --since=5m

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ†• NEW: AUTOMATED DEPLOYMENT SCRIPT
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

From your LOCAL machine:

   # Deploy only (no user seeding)
   ./deploy.sh

   # Deploy AND seed new admin users
   ./deploy.sh --with-users

This script:
âœ… SSHs to your server
âœ… Pulls latest changes
âœ… Builds Docker images
âœ… Deploys containers
âœ… Shows status & logs
âœ… Optionally seeds new users

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ‘¥ ADDING NEW ADMIN USERS (One-Time)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Option 1 - Use deployment script:
   ./deploy.sh --with-users

Option 2 - Manual (on server):
   docker compose -f docker-compose.prod.yml exec postgres \
     psql -U eastern_estate -d eastern_estate_erp \
     -f /app/backend/src/database/seeds/production-users.sql

Option 3 - Quick SQL (on server):
   docker compose -f docker-compose.prod.yml exec postgres \
     psql -U eastern_estate -d eastern_estate_erp << 'SQL'
   
   CREATE EXTENSION IF NOT EXISTS "pgcrypto";
   
   -- info@eecd.in (Super Admin)
   INSERT INTO users (id, username, email, password_hash, is_active, is_verified)
   SELECT uuid_generate_v4(), 'info', 'info@eecd.in',
          crypt('info@easternestate', gen_salt('bf')), true, true
   WHERE NOT EXISTS (SELECT 1 FROM users WHERE email = 'info@eecd.in');
   
   INSERT INTO user_roles (user_id, role_id)
   SELECT u.id, r.id FROM users u, roles r
   WHERE u.email = 'info@eecd.in' AND r.name = 'super_admin'
   AND NOT EXISTS (
     SELECT 1 FROM user_roles ur 
     WHERE ur.user_id = u.id AND ur.role_id = r.id
   );
   
   -- arnav@eecd.in (Admin)
   INSERT INTO users (id, username, email, password_hash, is_active, is_verified)
   SELECT uuid_generate_v4(), 'arnav', 'arnav@eecd.in',
          crypt('arnav@easternestate', gen_salt('bf')), true, true
   WHERE NOT EXISTS (SELECT 1 FROM users WHERE email = 'arnav@eecd.in');
   
   INSERT INTO user_roles (user_id, role_id)
   SELECT u.id, r.id FROM users u, roles r
   WHERE u.email = 'arnav@eecd.in' AND r.name = 'admin'
   AND NOT EXISTS (
     SELECT 1 FROM user_roles ur 
     WHERE ur.user_id = u.id AND ur.role_id = r.id
   );
   
   -- hr@eecd.in (HR)
   INSERT INTO users (id, username, email, password_hash, is_active, is_verified)
   SELECT uuid_generate_v4(), 'hr', 'hr@eecd.in',
          crypt('hr@easternestate', gen_salt('bf')), true, true
   WHERE NOT EXISTS (SELECT 1 FROM users WHERE email = 'hr@eecd.in');
   
   INSERT INTO user_roles (user_id, role_id)
   SELECT u.id, r.id FROM users u, roles r
   WHERE u.email = 'hr@eecd.in' AND r.name = 'hr'
   AND NOT EXISTS (
     SELECT 1 FROM user_roles ur 
     WHERE ur.user_id = u.id AND ur.role_id = r.id
   );
   
   -- Verify
   SELECT email, username FROM users 
   WHERE email IN ('info@eecd.in', 'arnav@eecd.in', 'hr@eecd.in');
SQL

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ” NEW USER CREDENTIALS:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

info@eecd.in   | info@easternestate   | Super Admin
arnav@eecd.in  | arnav@easternestate  | Admin
hr@eecd.in     | hr@easternestate     | HR

âš ï¸  Change passwords after first login!

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ” USEFUL COMMANDS (On Server):
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Check status:
  docker compose -f docker-compose.prod.yml ps

View logs (follow):
  docker compose -f docker-compose.prod.yml logs -f

View backend logs:
  docker compose -f docker-compose.prod.yml logs backend --tail 100 -f

View frontend logs:
  docker compose -f docker-compose.prod.yml logs frontend --tail 100 -f

Restart services:
  docker compose -f docker-compose.prod.yml restart backend frontend

Access database:
  docker compose -f docker-compose.prod.yml exec postgres \
    psql -U eastern_estate -d eastern_estate_erp

Verify users:
  docker compose -f docker-compose.prod.yml exec postgres \
    psql -U eastern_estate -d eastern_estate_erp \
    -c "SELECT email, username FROM users WHERE email LIKE '%@eecd.in';"

Check environment variables:
  docker compose -f docker-compose.prod.yml exec backend env | grep -E "DATABASE|JWT|GOOGLE"

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“š DOCUMENTATION:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Full Docker Guide:    DOCKER_DEPLOYMENT.md
Implementation:       IMPLEMENTATION_SUMMARY.md
Quick Reference:      This file!

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… DEPLOYMENT CHECKLIST:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

â–¡ Git changes committed and pushed
â–¡ Ran: ./deploy.sh (or manual deploy)
â–¡ No errors in backend logs
â–¡ No errors in frontend logs
â–¡ Frontend accessible
â–¡ Backend API responding
â–¡ New users added (if needed)
â–¡ Can login with new credentials
â–¡ Existing data intact
â–¡ Passwords changed for new users

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Server: 3.238.49.77
Key: ~/Downloads/ERP.pem
User: ubuntu
Project: ~/eastern-estate-erp

Last Updated: February 20, 2026
